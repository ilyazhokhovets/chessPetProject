{"ast":null,"code":"export default {\n  name: \"MyForm\",\n  data() {\n    return {\n      status: 'disconnect',\n      dialogs: [],\n      chessSocket: '',\n      logs: [],\n      message: '',\n      resp: '1234'\n    };\n  },\n  created() {\n    this.connect();\n  },\n  mounted() {\n    //     function sleep(ms) {\n    //     return new Promise(resolve => (resolve, ms));\n    // }\n    console.log('1231231');\n    // setTimeout(122222)\n    // sleep≥ ,(10000)\n    //   console.log('1231231')\n    // this.smm()\n  },\n\n  watch: {\n    message() {\n      // console.log(this.message)\n      this.smm();\n      // console.log(this.message)\n    },\n\n    resp() {}\n  },\n  methods: {\n    connect() {\n      this.chessSocket = new WebSocket('ws://' + '127.0.0.1:8000/ws/chess/');\n      // console.log(Object.getOwnPropertyNames(this.chessSocket))\n      this.chessSocket.onopen = () => {\n        this.status = \"connected\";\n      };\n      this.chessSocket.onmessage = ({\n        data\n      }) => {\n        // console.log(event.data['record']);\n        //   console.log('mesasa '+this.message)\n        var g = JSON.parse(data);\n        this.resp = g.record;\n        // console.log(this.resp)\n        // console.log(data)\n      };\n      //\n      // this.chessSocket.onopen = () => {\n      //   this.status = 'connected';\n      //   console.log('1231231')\n      //   this.dialogs.push({\n      //     'event': 'Connected to',\n      //     'message': 'WomsChat'\n      //   })\n      //\n      // }\n      // }\n    },\n\n    async smm() {\n      let data = {\n        fen: this.status,\n        record: this.message\n      };\n      console.log(this.message);\n      this.chessSocket.send(JSON.stringify(data));\n    }\n  }\n};","map":{"version":3,"mappings":"AAoBA;EACAA;EAEAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACAC;IACA;IACA;IACA;IACA;EACA;;EACAC;IACAL;MACA;MACA;MACA;IACA;;IACAC,QAEA;EACA;EACAK;IACAC;MACA,iCACA,qCACA;MACA;MACA;QACA;MACA;MAEA;QAAAZ;MAAA;QACA;QACA;QACA;QACA;QACA;QACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACA;MACA;QACAa;QACAC;MACA;MACAL;MACA;IACA;EACA;AACA","names":["name","data","status","dialogs","chessSocket","logs","message","resp","created","mounted","console","watch","methods","connect","fen","record"],"sourceRoot":"src/components","sources":["MyForm.vue"],"sourcesContent":["<template>\n<!--  <div id=\"app\">-->\n<!--<div>{{ message}}</div>-->\n<!--  &lt;!&ndash; Canvas &ndash;&gt;-->\n<!--  <canvas id=\"c\"></canvas>-->\n<!--  &lt;!&ndash; Add Rectangle Button &ndash;&gt;-->\n<!--  <div>-->\n<div>\n    <button @click=\"smm\">Add Rect</button>\n<!--    <button @click=\"subWidth\">-</button>-->\n<!--    <button @click=\"addWidth\">+</button>-->\n<!--  </div>-->\n<!--  </div>-->'\n\n  <input v-model=\"message\" placeholder=\"edit me\" />\n  {{resp}}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MyForm\",\n\n  data() {\n    return {\n      status: 'disconnect',\n      dialogs: [],\n      chessSocket: '',\n      logs: [],\n      message: '',\n      resp: '1234'\n    }\n\t},\n  created(){\n    this.connect()\n  },\n  mounted() {\n//     function sleep(ms) {\n//     return new Promise(resolve => (resolve, ms));\n// }\nconsole.log('1231231')\n    // setTimeout(122222)\n  // sleep≥ ,(10000)\n  //   console.log('1231231')\n    // this.smm()\n  },\n  watch: {\n    message(){\n      // console.log(this.message)\n      this.smm()\n      // console.log(this.message)\n    },\n    resp(){\n\n    }\n},\n  methods: {\n    connect() {\n      this.chessSocket = new WebSocket(\n          'ws://' + '127.0.0.1:8000/ws/chess/'\n      );\n      // console.log(Object.getOwnPropertyNames(this.chessSocket))\n      this.chessSocket.onopen = () => {\n        this.status = \"connected\";\n      }\n\n      this.chessSocket.onmessage = ({data}) => {\n      // console.log(event.data['record']);\n      //   console.log('mesasa '+this.message)\n      var g = JSON.parse(data)\n        this.resp = g.record\n        // console.log(this.resp)\n        // console.log(data)\n\n    }\n      //\n        // this.chessSocket.onopen = () => {\n        //   this.status = 'connected';\n        //   console.log('1231231')\n        //   this.dialogs.push({\n        //     'event': 'Connected to',\n        //     'message': 'WomsChat'\n        //   })\n        //\n        // }\n      // }\n    },\n    async smm (){\n       let data = {\n        fen: this.status,\n        record: this.message\n      }\n      console.log(this.message)\n      this.chessSocket.send(JSON.stringify(data))\n    }\n  }\n}\n</script>\n\n<style scoped>\n#app {\n  padding: 20px;\n  margin: 20px;\n}\n\n#c {\n  height: 200px;\n  width: 400px;\n  border: 1px solid gray;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}